// vite.config.ts
import { resolve } from "path";
import { defineConfig } from "file:///C:/Git/ChocolateLib/state/node_modules/vite/dist/node/index.js";

// package.json
var name = "@chocolatelib/state";
var dependencies = {
  "@chocolatelib/result": "^0.0.4"
};

// vite.config.ts
import dts from "file:///C:/Git/ChocolateLib/state/node_modules/vite-plugin-dts/dist/index.mjs";
import libCss from "file:///C:/Git/ChocolateLib/state/node_modules/vite-plugin-libcss/index.js";
var __vite_injected_original_dirname = "C:\\Git\\ChocolateLib\\state";
var vite_config_default = defineConfig(({ command, mode, ssrBuild }) => {
  console.log(command, mode);
  switch (command) {
    case "serve":
      if (mode === "pages") {
        return {
          server: {
            host: true,
            port: 666
          },
          build: {
            outDir: "../docs",
            emptyOutDir: true
          },
          preview: {
            port: 666
          },
          root: "./pages",
          base: "/pages/"
        };
      } else {
        return {
          server: {
            host: true,
            port: 999
          },
          build: {
            outDir: "./dist"
          },
          preview: {
            port: 999
          },
          root: "./cypress/pages"
        };
      }
    case "build":
      if (mode === "pages") {
        return {
          root: "./pages",
          build: {
            outDir: "../docs",
            emptyOutDir: true
          },
          base: ""
        };
      } else if (mode === "tests" || mode === "production") {
        return {
          root: "./cypress/pages",
          build: {
            outDir: "./dist",
            target: "esnext"
          },
          base: ""
        };
      } else {
        return {
          build: {
            lib: {
              entry: resolve(__vite_injected_original_dirname, "src/index.ts"),
              name,
              fileName: "index",
              formats: ["es", "cjs"]
            },
            rollupOptions: {
              external: Object.keys(dependencies)
            },
            target: "es2022"
          },
          plugins: [
            dts({ rollupTypes: true }),
            libCss()
          ]
        };
      }
  }
});
export {
  vite_config_default as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsidml0ZS5jb25maWcudHMiLCAicGFja2FnZS5qc29uIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJjb25zdCBfX3ZpdGVfaW5qZWN0ZWRfb3JpZ2luYWxfZGlybmFtZSA9IFwiQzpcXFxcR2l0XFxcXENob2NvbGF0ZUxpYlxcXFxzdGF0ZVwiO2NvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9maWxlbmFtZSA9IFwiQzpcXFxcR2l0XFxcXENob2NvbGF0ZUxpYlxcXFxzdGF0ZVxcXFx2aXRlLmNvbmZpZy50c1wiO2NvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9pbXBvcnRfbWV0YV91cmwgPSBcImZpbGU6Ly8vQzovR2l0L0Nob2NvbGF0ZUxpYi9zdGF0ZS92aXRlLmNvbmZpZy50c1wiO2ltcG9ydCB7IHJlc29sdmUsIH0gZnJvbSAncGF0aCdcbmltcG9ydCB7IGRlZmluZUNvbmZpZyB9IGZyb20gJ3ZpdGUnXG5pbXBvcnQgeyBuYW1lLCBkZXBlbmRlbmNpZXMgfSBmcm9tIFwiLi9wYWNrYWdlLmpzb25cIlxuaW1wb3J0IGR0cyBmcm9tIFwidml0ZS1wbHVnaW4tZHRzXCJcbmltcG9ydCBsaWJDc3MgZnJvbSAndml0ZS1wbHVnaW4tbGliY3NzJztcblxuZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29uZmlnKCh7IGNvbW1hbmQsIG1vZGUsIHNzckJ1aWxkIH0pID0+IHtcbiAgICBjb25zb2xlLmxvZyhjb21tYW5kLCBtb2RlKTtcblxuICAgIHN3aXRjaCAoY29tbWFuZCkge1xuICAgICAgICBjYXNlICdzZXJ2ZSc6XG4gICAgICAgICAgICBpZiAobW9kZSA9PT0gJ3BhZ2VzJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHNlcnZlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaG9zdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcnQ6IDY2NixcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYnVpbGQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dERpcjogXCIuLi9kb2NzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbXB0eU91dERpcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcHJldmlldzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9ydDogNjY2XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJvb3Q6IFwiLi9wYWdlc1wiLFxuICAgICAgICAgICAgICAgICAgICBiYXNlOiBcIi9wYWdlcy9cIixcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHNlcnZlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaG9zdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcnQ6IDk5OVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBidWlsZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0RGlyOiBcIi4vZGlzdFwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHByZXZpZXc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcnQ6IDk5OVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByb290OiBcIi4vY3lwcmVzcy9wYWdlc1wiLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSAnYnVpbGQnOlxuICAgICAgICAgICAgaWYgKG1vZGUgPT09ICdwYWdlcycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICByb290OiBcIi4vcGFnZXNcIixcbiAgICAgICAgICAgICAgICAgICAgYnVpbGQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dERpcjogXCIuLi9kb2NzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbXB0eU91dERpcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYmFzZTogJycsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSAndGVzdHMnIHx8IG1vZGUgPT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHJvb3Q6IFwiLi9jeXByZXNzL3BhZ2VzXCIsXG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXREaXI6IFwiLi9kaXN0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiZXNuZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYmFzZTogJydcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaWI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRyeTogcmVzb2x2ZShfX2Rpcm5hbWUsICdzcmMvaW5kZXgudHMnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVOYW1lOiAnaW5kZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdHM6IFsnZXMnLCAnY2pzJ10sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcm9sbHVwT3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dGVybmFsOiBPYmplY3Qua2V5cyhkZXBlbmRlbmNpZXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogXCJlczIwMjJcIixcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgZHRzKHsgcm9sbHVwVHlwZXM6IHRydWUsIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGliQ3NzKClcbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICB9XG59KSIsICJ7XG4gIFwibmFtZVwiOiBcIkBjaG9jb2xhdGVsaWIvc3RhdGVcIixcbiAgXCJ2ZXJzaW9uXCI6IFwiMC4wLjEzXCIsXG4gIFwibWFpblwiOiBcImRpc3QvaW5kZXguY2pzXCIsXG4gIFwibW9kdWxlXCI6IFwiZGlzdC9pbmRleC5qc1wiLFxuICBcInR5cGVzXCI6IFwiZGlzdC9pbmRleC5kLnRzXCIsXG4gIFwidHlwZVwiOiBcIm1vZHVsZVwiLFxuICBcImZpbGVzXCI6IFtcbiAgICBcImRpc3RcIlxuICBdLFxuICBcInNjcmlwdHNcIjoge1xuICAgIFwiZGV2OnBhZ2VzXCI6IFwidml0ZSAtbSBwYWdlc1wiLFxuICAgIFwiZGV2OnRlc3RzXCI6IFwidml0ZSAtbSB0ZXN0XCIsXG4gICAgXCJidWlsZDpsaWJcIjogXCJ0c2MgJiYgdml0ZSBidWlsZCAtbSBsaWJcIixcbiAgICBcImJ1aWxkOnBhZ2VzXCI6IFwidHNjICYmIHZpdGUgYnVpbGQgLW0gcGFnZXNcIixcbiAgICBcImJ1aWxkOnRlc3RzXCI6IFwidHNjICYmIHZpdGUgYnVpbGQgLW0gdGVzdHNcIixcbiAgICBcInNlcnZlOmRldlwiOiBcInZpdGUgcHJldmlldyAtLW1vZGUgcGFnZXNcIixcbiAgICBcInNlcnZlOnRlc3RzXCI6IFwidml0ZSBwcmV2aWV3IC0tbW9kZSB0ZXN0U2VydmVcIixcbiAgICBcInRlc3RcIjogXCJucG0gcnVuIGJ1aWxkOnRlc3RzICYmIHN0YXJ0LXNlcnZlci1hbmQtdGVzdCBzZXJ2ZTp0ZXN0cyBodHRwOi8vbG9jYWxob3N0Ojk5OSAnY3lwcmVzcyBydW4nXCIsXG4gICAgXCJ3YXRjaFwiOiBcInN0YXJ0LXNlcnZlci1hbmQtdGVzdCBkZXY6dGVzdHMgaHR0cDovL2xvY2FsaG9zdDo5OTkgJ2N5cHJlc3Mgb3BlbiAtLWUyZSAtLWJyb3dzZXIgZWRnZSdcIixcbiAgICBcInByZXB1Ymxpc2hPbmx5XCI6IFwibnBtIHJ1biB0ZXN0ICYmIG5wbSBydW4gYnVpbGQ6bGliICYmIG5wbSBydW4gYnVpbGQ6cGFnZXNcIlxuICB9LFxuICBcImRldkRlcGVuZGVuY2llc1wiOiB7XG4gICAgXCJjeXByZXNzXCI6IFwiXjEzLjQuMFwiLFxuICAgIFwiY3lwcmVzcy12aXRlXCI6IFwiXjEuNC4yXCIsXG4gICAgXCJzdGFydC1zZXJ2ZXItYW5kLXRlc3RcIjogXCJeMi4wLjFcIixcbiAgICBcInRzbGliXCI6IFwiXjIuNi4yXCIsXG4gICAgXCJ0eXBlc2NyaXB0XCI6IFwiXjUuMi4yXCIsXG4gICAgXCJ2aXRlXCI6IFwiXjQuNS4wXCIsXG4gICAgXCJ2aXRlLXBsdWdpbi1kdHNcIjogXCJeMy42LjNcIixcbiAgICBcInZpdGUtcGx1Z2luLWxpYmNzc1wiOiBcIl4xLjEuMVwiXG4gIH0sXG4gIFwiYXV0aG9yXCI6IFwiY2hvY29sYXRlYW5kbWlsa3dpblwiLFxuICBcImxpY2Vuc2VcIjogXCJBcGFjaGUtMi4wXCIsXG4gIFwicmVwb3NpdG9yeVwiOiB7XG4gICAgXCJ0eXBlXCI6IFwiZ2l0XCIsXG4gICAgXCJ1cmxcIjogXCJnaXQraHR0cHM6Ly9naXRodWIuY29tL0Nob2NvbGF0ZUxpYi9zdGF0ZS5naXRcIlxuICB9LFxuICBcImJ1Z3NcIjoge1xuICAgIFwidXJsXCI6IFwiaHR0cHM6Ly9naXRodWIuY29tL0Nob2NvbGF0ZUxpYi9zdGF0ZS9pc3N1ZXNcIlxuICB9LFxuICBcImhvbWVwYWdlXCI6IFwiaHR0cHM6Ly9naXRodWIuY29tL0Nob2NvbGF0ZUxpYi9zdGF0ZSNyZWFkbWVcIixcbiAgXCJkZXBlbmRlbmNpZXNcIjoge1xuICAgIFwiQGNob2NvbGF0ZWxpYi9yZXN1bHRcIjogXCJeMC4wLjRcIlxuICB9XG59Il0sCiAgIm1hcHBpbmdzIjogIjtBQUFxUSxTQUFTLGVBQWdCO0FBQzlSLFNBQVMsb0JBQW9COzs7QUNBM0IsV0FBUTtBQXlDUixtQkFBZ0I7QUFBQSxFQUNkLHdCQUF3QjtBQUMxQjs7O0FEekNGLE9BQU8sU0FBUztBQUNoQixPQUFPLFlBQVk7QUFKbkIsSUFBTSxtQ0FBbUM7QUFNekMsSUFBTyxzQkFBUSxhQUFhLENBQUMsRUFBRSxTQUFTLE1BQU0sU0FBUyxNQUFNO0FBQ3pELFVBQVEsSUFBSSxTQUFTLElBQUk7QUFFekIsVUFBUSxTQUFTO0FBQUEsSUFDYixLQUFLO0FBQ0QsVUFBSSxTQUFTLFNBQVM7QUFDbEIsZUFBTztBQUFBLFVBQ0gsUUFBUTtBQUFBLFlBQ0osTUFBTTtBQUFBLFlBQ04sTUFBTTtBQUFBLFVBQ1Y7QUFBQSxVQUNBLE9BQU87QUFBQSxZQUNILFFBQVE7QUFBQSxZQUNSLGFBQWE7QUFBQSxVQUNqQjtBQUFBLFVBQ0EsU0FBUztBQUFBLFlBQ0wsTUFBTTtBQUFBLFVBQ1Y7QUFBQSxVQUNBLE1BQU07QUFBQSxVQUNOLE1BQU07QUFBQSxRQUNWO0FBQUEsTUFDSixPQUFPO0FBQ0gsZUFBTztBQUFBLFVBQ0gsUUFBUTtBQUFBLFlBQ0osTUFBTTtBQUFBLFlBQ04sTUFBTTtBQUFBLFVBQ1Y7QUFBQSxVQUNBLE9BQU87QUFBQSxZQUNILFFBQVE7QUFBQSxVQUNaO0FBQUEsVUFDQSxTQUFTO0FBQUEsWUFDTCxNQUFNO0FBQUEsVUFDVjtBQUFBLFVBQ0EsTUFBTTtBQUFBLFFBQ1Y7QUFBQSxNQUNKO0FBQUEsSUFDSixLQUFLO0FBQ0QsVUFBSSxTQUFTLFNBQVM7QUFDbEIsZUFBTztBQUFBLFVBQ0gsTUFBTTtBQUFBLFVBQ04sT0FBTztBQUFBLFlBQ0gsUUFBUTtBQUFBLFlBQ1IsYUFBYTtBQUFBLFVBQ2pCO0FBQUEsVUFDQSxNQUFNO0FBQUEsUUFDVjtBQUFBLE1BQ0osV0FBVyxTQUFTLFdBQVcsU0FBUyxjQUFjO0FBQ2xELGVBQU87QUFBQSxVQUNILE1BQU07QUFBQSxVQUNOLE9BQU87QUFBQSxZQUNILFFBQVE7QUFBQSxZQUNSLFFBQVE7QUFBQSxVQUNaO0FBQUEsVUFDQSxNQUFNO0FBQUEsUUFDVjtBQUFBLE1BQ0osT0FBTztBQUNILGVBQU87QUFBQSxVQUNILE9BQU87QUFBQSxZQUNILEtBQUs7QUFBQSxjQUNELE9BQU8sUUFBUSxrQ0FBVyxjQUFjO0FBQUEsY0FDeEM7QUFBQSxjQUNBLFVBQVU7QUFBQSxjQUNWLFNBQVMsQ0FBQyxNQUFNLEtBQUs7QUFBQSxZQUN6QjtBQUFBLFlBQ0EsZUFBZTtBQUFBLGNBQ1gsVUFBVSxPQUFPLEtBQUssWUFBWTtBQUFBLFlBQ3RDO0FBQUEsWUFDQSxRQUFRO0FBQUEsVUFDWjtBQUFBLFVBQ0EsU0FBUztBQUFBLFlBQ0wsSUFBSSxFQUFFLGFBQWEsS0FBTSxDQUFDO0FBQUEsWUFDMUIsT0FBTztBQUFBLFVBQ1g7QUFBQSxRQUNKO0FBQUEsTUFDSjtBQUFBLEVBQ1I7QUFDSixDQUFDOyIsCiAgIm5hbWVzIjogW10KfQo=
